
<notifications></notifications>


<div class="row">
    <div class="col-md-9">
        <form name="notificationForm" class="form-horizontal">

            <div class="form-group" show-errors>
                <label for="from" class="col-sm-2 control-label">From</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" id="from" name="From" ng-disabled="vm.overrideFrom != 'Override'" placeholder="From" ng-required ng-model="vm.Notification.From" />

                    <span class="help-block" ng-show="notificationForm.From.$invalid">{{notificationForm.From.$errorText}}</span>
                </div>
                <div class="col-sm-3">

                    <button type="button" class="btn btn-default" ng-model="vm.overrideFrom" uib-btn-checkbox btn-checkbox-true="'Override'" btn-checkbox-false="'nope'">Override</button>

                </div>
            </div>
            <div class="form-group" show-errors>
                <label for="to" class="col-sm-2 control-label">To</label>
                <div class="col-sm-7">
                    <input type="text" class="form-control" id="to" name="to" placeholder="To" ng-required ng-model="vm.Notification.Recipients" ng-disabled="vm.selectedTarget != 'Custom'" />
                    <span class="help-block" ng-show="notificationForm.Recipients.$invalid">{{notificationForm.Recipients.$errorText}}</span>
                </div>
                <div class="col-sm-3">
                    <div class="btn-group">
                        <select class="form-control" ng-options="target as target for target in vm.Event.Targets" ng-model="vm.selectedTarget"></select>

                    </div>
                </div>
            </div>
            <div class="form-group" show-errors>
                <label for="subject" class="col-sm-2 control-label">Subject</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="subject" name="Subject" placeholder="Notifiction Subject" ng-required ng-model="vm.Notification.Subject" />
                    <span class="help-block" ng-show="notificationForm.Subject.$invalid">{{notificationForm.Subject.$errorText}}</span>
                </div>
            </div>
            <div class="form-group" show-errors>
                <label for="message" class="col-sm-2 control-label">Message</label>
                <div class="col-sm-10">
                    <textarea class="form-control" id="message" name="Message" placeholder="Message" ng-required ng-model="vm.Notification.Message"></textarea>
                    <span class="help-block" ng-show="notificationForm.Message.$invalid">{{notificationForm.Message.$errorText}}</span>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button class="btn btn-default" ng-click="vm.Create()">Create</button> <a href="#/home?appID={{::vm.appID}}&eventID={{::vm.eventID}}" class="btn btn-default">Back</a>
                </div>
            </div>


        </form>
    </div>
    <div class="col-md-3">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Tags</h3>
            </div>
            <div class="panel-body">
                <p ng-repeat="tag in vm.Event.Tags" popover-trigger="focus" popover-placement="top" popover-title="Details" uib-popover="{{tag.Description}}" ng-click="vm.AppendTag(tag)">{{tag.Name}}</p><br />
            </div>
        </div>
    </div>
</div>